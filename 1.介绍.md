# 第一章 介绍

[TOC]

## 1.1. 一些历史


Java®编程语言是通用的，并发的，面向对象的语言。它的语法类似于C和C ++，但是省略了许多使C和C ++复杂，容易混淆和不安全的功能。最初开发Java平台是为了解决为网络消费设备构建软件的问题。它旨在支持多种主机体系结构并允许安全交付软件组件。为了满足这些要求，编译后的代码必须能够在跨网络的传输中幸存下来，可以在任何客户端上运行，并确保客户端可以安全运行。

万维网的普及使这些属性更加有趣。 Web浏览器使数以百万计的人能够以简单的方式上网和访问媒体丰富的内容。最终，有了一种媒介，无论您使用的是什么机器，无论它是连接到快速网络还是慢速调制解调器，您所听到和听到的内容基本上都是相同的。

Web爱好者很快发现Web的HTML文档格式所支持的内容太有限了。 HTML扩展（例如表单）仅强调了这些限制，同时明确指出没有浏览器可以包含用户想要的所有功能。扩展性就是答案。

HotJava浏览器首先通过将程序嵌入HTML页面来展示Java编程语言和平台的有趣特性。程序与出现的HTML页面一起透明地下载到浏览器中。在被浏览器接受之前，应仔细检查程序以确保其安全。像HTML页面一样，编译程序与网络和主机无关。这些程序的行为方式相同，无论它们来自何处或要加载到哪种计算机上并在其上运行。

包含Java平台的Web浏览器不再局限于一组预定功能。可以确保包含动态内容的网页的访问者可以确保其计算机不会被该内容损坏。程序员可以编写一次程序，并且该程序可以在提供Java运行时环境的任何计算机上运行。




## 1.2. JAVA虚拟机

Java虚拟机是Java平台的基石。它是技术的组成部分，负责硬件和操作系统的独立性，已编译代码的小尺寸以及保护用户免受恶意程序攻击的能力。

Java虚拟机是抽象的计算机。像真正的计算机一样，它具有指令集并在运行时操作各种内存区域。使用虚拟机实现编程语言是相当普遍的。最知名的虚拟机可能是UCSD Pascal的P代码计算机。


由Sun Microsystems，Inc.完成的Java虚拟机的第一个原型实现模拟了由类似于现代个人数字助理（PDA）的手持设备托管的软件中的Java虚拟机指令集。 Oracle当前的实现在移动设备，桌面设备和服务器设备上模拟Java虚拟机，但是Java虚拟机不采用任何特定的实现技术，主机硬件或主机操作系统。它不是固有解释的，但是也可以通过将其指令集编译为硅CPU的指令集来实现。也可以用微码或直接在硅中实现。


The Java Virtual Machine knows nothing of the Java programming language, only of a particular binary format, the `class` file format. A `class` file contains Java Virtual Machine instructions (or *bytecodes*) and a symbol table, as well as other ancillary information.

For the sake of security, the Java Virtual Machine imposes strong syntactic and structural constraints on the code in a `class` file. However, any language with functionality that can be expressed in terms of a valid `class` file can be hosted by the Java Virtual Machine. Attracted by a generally available, machine-independent platform, implementors of other languages can turn to the Java Virtual Machine as a delivery vehicle for their languages.

The Java Virtual Machine specified here is compatible with the Java SE 15 platform, and supports the Java programming language specified in *The Java Language Specification, Java SE 15 Edition*.

## 1.3. Organization of the Specification

Chapter 2 gives an overview of the Java Virtual Machine architecture.

Chapter 3 introduces compilation of code written in the Java programming language into the instruction set of the Java Virtual Machine.

Chapter 4 specifies the `class` file format, the hardware- and operating system-independent binary format used to represent compiled classes and interfaces.

Chapter 5 specifies the start-up of the Java Virtual Machine and the loading, linking, and initialization of classes and interfaces.

Chapter 6 specifies the instruction set of the Java Virtual Machine, presenting the instructions in alphabetical order of opcode mnemonics.

Chapter 7 gives a table of Java Virtual Machine opcode mnemonics indexed by opcode value.

In the Second Edition of *The Java® Virtual Machine Specification*, Chapter 2 gave an overview of the Java programming language that was intended to support the specification of the Java Virtual Machine but was not itself a part of the specification. In *The Java Virtual Machine Specification, Java SE 15 Edition*, the reader is referred to *The Java Language Specification, Java SE 15 Edition* for information about the Java programming language. References of the form: (JLS §x.y) indicate where this is necessary.

In the Second Edition of *The Java® Virtual Machine Specification*, Chapter 8 detailed the low-level actions that explained the interaction of Java Virtual Machine threads with a shared main memory. In *The Java Virtual Machine Specification, Java SE 15 Edition*, the reader is referred to Chapter 17 of *The Java Language Specification, Java SE 15 Edition* for information about threads and locks. Chapter 17 reflects *The Java Memory Model and Thread Specification* produced by the JSR 133 Expert Group.

## 1.4. Notation

Throughout this specification we refer to classes and interfaces drawn from the Java SE Platform API. Whenever we refer to a class or interface (other than those declared in an example) using a single identifier *N*, the intended reference is to the class or interface named *N* in the package `java.lang`. We use the fully qualified name for classes or interfaces from packages other than `java.lang`.

Whenever we refer to a class or interface that is declared in the package `java` or any of its subpackages, the intended reference is to that class or interface as loaded by the bootstrap class loader ([§5.3.1](https://docs.oracle.com/javase/specs/jvms/se15/html/jvms-5.html#jvms-5.3.1)).

Whenever we refer to a subpackage of a package named `java`, the intended reference is to that subpackage as determined by the bootstrap class loader.

The use of fonts in this specification is as follows:

- A `fixed width` font is used for Java Virtual Machine data types, exceptions, errors, `class` file structures, Prolog code, and Java code fragments.
- *Italic* is used for Java Virtual Machine "assembly language", its opcodes and operands, as well as items in the Java Virtual Machine's run-time data areas. It is also used to introduce new terms and simply for emphasis.

Non-normative information, designed to clarify the specification, is given in smaller, indented text.

This is non-normative information. It provides intuition, rationale, advice, examples, etc.

## 1.5. Feedback

Readers are invited to report technical errors and ambiguities in *The Java® Virtual Machine Specification* to `jls-jvms-spec-comments@openjdk.java.net`.

Questions concerning the generation and manipulation of `class` files by `javac` (the reference compiler for the Java programming language) may be sent to `compiler-dev@openjdk.java.net`.